{"ast":null,"code":"var _EnableRatingConfigurationQuery,\n    _EnableRatingConfigurationMutation,\n    _jsxFileName = \"/Users/anubhavgupta/Documents/react_learning/experiment_schema_ratings/rating-frontent-with-gql/module-rating-rough/experiment-fnd/src/enablerating/EnableRating.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { commitMutation, useLazyLoadQuery } from \"react-relay\";\nimport environment from \"../RelayEnvironment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RatingConfig = _EnableRatingConfigurationQuery !== void 0 ? _EnableRatingConfigurationQuery : (_EnableRatingConfigurationQuery = require(\"./__generated__/EnableRatingConfigurationQuery.graphql\"), _EnableRatingConfigurationQuery.hash && _EnableRatingConfigurationQuery.hash !== \"da31d0cfac31eb6139aa07a6d232fb1b\" && console.error(\"The definition of 'EnableRatingConfigurationQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\"), _EnableRatingConfigurationQuery);\nconst RatingConfigMutation = _EnableRatingConfigurationMutation !== void 0 ? _EnableRatingConfigurationMutation : (_EnableRatingConfigurationMutation = require(\"./__generated__/EnableRatingConfigurationMutation.graphql\"), _EnableRatingConfigurationMutation.hash && _EnableRatingConfigurationMutation.hash !== \"0f8daedb12e206dd65ada4fa6d6233a7\" && console.error(\"The definition of 'EnableRatingConfigurationMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\"), _EnableRatingConfigurationMutation);\n\nfunction EnableRating() {\n  _s();\n\n  const data = useLazyLoadQuery(RatingConfig, {\n    resourceId: \"1\"\n  });\n  console.log(data);\n  const [configuration, setConfiguration] = useState(data.getResourceRatingFeedback.Configurations);\n\n  function HandleToggle(e) {\n    e.preventDefault();\n    let value = false;\n\n    if (e.target[0].value === \"ON\") {\n      value = true;\n    } // console.log(value);\n\n\n    setConfiguration({\n      enableRatingsOnResource: value,\n      enableFeedbackOnResourse: configuration.enableFeedbackOnResourse\n    });\n    commitMutation(environment, {\n      mutation: RatingConfigMutation,\n      variables: {\n        resourceId: \"1\",\n        configurations: {\n          enableRatingsOnResource: value,\n          enableFeedbackOnResourse: configuration.enableFeedbackOnResourse\n        }\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: configuration.enableRatingsOnResource ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: HandleToggle,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"OFF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: HandleToggle,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"ON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EnableRating, \"1zZLTY/jCjmLilpIGFjs6iv7W5w=\", false, function () {\n  return [useLazyLoadQuery];\n});\n\n_c = EnableRating;\nexport default EnableRating;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnableRating\");","map":{"version":3,"names":["useState","commitMutation","useLazyLoadQuery","environment","RatingConfig","RatingConfigMutation","EnableRating","data","resourceId","console","log","configuration","setConfiguration","getResourceRatingFeedback","Configurations","HandleToggle","e","preventDefault","value","target","enableRatingsOnResource","enableFeedbackOnResourse","mutation","variables","configurations"],"sources":["/Users/anubhavgupta/Documents/react_learning/experiment_schema_ratings/rating-frontent-with-gql/module-rating-rough/experiment-fnd/src/enablerating/EnableRating.tsx"],"sourcesContent":["import { graphql } from \"babel-plugin-relay/macro\";\nimport { useState } from \"react\";\nimport { commitMutation, useLazyLoadQuery } from \"react-relay\";\nimport environment from \"../RelayEnvironment\";\n\nconst RatingConfig = graphql`\n  query EnableRatingConfigurationQuery($resourceId: ID!) {\n    getResourceRatingFeedback(resourceId: $resourceId) {\n      Configurations {\n        enableRatingsOnResource\n        enableFeedbackOnResourse\n      }\n    }\n  }\n`;\n\nconst RatingConfigMutation = graphql`\n  mutation EnableRatingConfigurationMutation(\n    $resourceId: ID!\n    $configurations: ResourceRatingFeedbackConfigurationsInput!\n  ) {\n    setResourceRatingFeedbackConfiguration(\n      resourceId: $resourceId\n      configurations: $configurations\n    ) {\n      Configurations {\n        enableRatingsOnResource\n        enableFeedbackOnResourse\n      }\n    }\n  }\n`;\n\nfunction EnableRating() {\n  const data: any = useLazyLoadQuery(RatingConfig, {\n    resourceId: \"1\",\n  });\n  console.log(data);\n\n  const [configuration, setConfiguration] = useState(\n    data.getResourceRatingFeedback.Configurations\n  );\n\n  function HandleToggle(e: any) {\n    e.preventDefault();\n    let value: boolean = false;\n    if (e.target[0].value === \"ON\") {\n      value = true;\n    }\n\n    // console.log(value);\n    setConfiguration({\n      enableRatingsOnResource: value,\n      enableFeedbackOnResourse: configuration.enableFeedbackOnResourse,\n    });\n\n    commitMutation(environment, {\n      mutation: RatingConfigMutation,\n      variables: {\n        resourceId: \"1\",\n        configurations: {\n          enableRatingsOnResource: value,\n          enableFeedbackOnResourse: configuration.enableFeedbackOnResourse,\n        },\n      },\n    });\n  }\n\n  return (\n    <div>\n      {configuration.enableRatingsOnResource ? (\n        <form onSubmit={HandleToggle}>\n          <input type=\"submit\" value=\"OFF\" />\n        </form>\n      ) : (\n        <form onSubmit={HandleToggle}>\n          <input type=\"submit\" value=\"ON\" />\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default EnableRating;\n"],"mappings":";;;;;AACA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,cAAT,EAAyBC,gBAAzB,QAAiD,aAAjD;AACA,OAAOC,WAAP,MAAwB,qBAAxB;;AAEA,MAAMC,YAAY,8fAAlB;AAWA,MAAMC,oBAAoB,shBAA1B;;AAiBA,SAASC,YAAT,GAAwB;EAAA;;EACtB,MAAMC,IAAS,GAAGL,gBAAgB,CAACE,YAAD,EAAe;IAC/CI,UAAU,EAAE;EADmC,CAAf,CAAlC;EAGAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;EAEA,MAAM,CAACI,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAChDO,IAAI,CAACM,yBAAL,CAA+BC,cADiB,CAAlD;;EAIA,SAASC,YAAT,CAAsBC,CAAtB,EAA8B;IAC5BA,CAAC,CAACC,cAAF;IACA,IAAIC,KAAc,GAAG,KAArB;;IACA,IAAIF,CAAC,CAACG,MAAF,CAAS,CAAT,EAAYD,KAAZ,KAAsB,IAA1B,EAAgC;MAC9BA,KAAK,GAAG,IAAR;IACD,CAL2B,CAO5B;;;IACAN,gBAAgB,CAAC;MACfQ,uBAAuB,EAAEF,KADV;MAEfG,wBAAwB,EAAEV,aAAa,CAACU;IAFzB,CAAD,CAAhB;IAKApB,cAAc,CAACE,WAAD,EAAc;MAC1BmB,QAAQ,EAAEjB,oBADgB;MAE1BkB,SAAS,EAAE;QACTf,UAAU,EAAE,GADH;QAETgB,cAAc,EAAE;UACdJ,uBAAuB,EAAEF,KADX;UAEdG,wBAAwB,EAAEV,aAAa,CAACU;QAF1B;MAFP;IAFe,CAAd,CAAd;EAUD;;EAED,oBACE;IAAA,UACGV,aAAa,CAACS,uBAAd,gBACC;MAAM,QAAQ,EAAEL,YAAhB;MAAA,uBACE;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADD,gBAKC;MAAM,QAAQ,EAAEA,YAAhB;MAAA,uBACE;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EANJ;IAAA;IAAA;IAAA;EAAA,QADF;AAaD;;GAhDQT,Y;UACWJ,gB;;;KADXI,Y;AAkDT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}