{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('../store/RelayModernSelector'),\n    getDataIDsFromFragment = _require.getDataIDsFromFragment,\n    getSelector = _require.getSelector,\n    getVariablesFromFragment = _require.getVariablesFromFragment;\n\nvar isEmptyObject = require('./isEmptyObject');\n\nvar RelayFeatureFlags = require('./RelayFeatureFlags');\n\nvar stableCopy = require('./stableCopy');\n\nvar _require2 = require('./StringInterner'),\n    intern = _require2.intern;\n\nfunction getFragmentIdentifier(fragmentNode, fragmentRef) {\n  var selector = getSelector(fragmentNode, fragmentRef);\n  var fragmentOwnerIdentifier = selector == null ? 'null' : selector.kind === 'SingularReaderSelector' ? selector.owner.identifier : '[' + selector.selectors.map(function (sel) {\n    return sel.owner.identifier;\n  }).join(',') + ']';\n  var fragmentVariables = getVariablesFromFragment(fragmentNode, fragmentRef);\n  var dataIDs = getDataIDsFromFragment(fragmentNode, fragmentRef);\n\n  if (RelayFeatureFlags.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION) {\n    var ids = typeof dataIDs === 'undefined' ? 'missing' : dataIDs == null ? 'null' : Array.isArray(dataIDs) ? '[' + dataIDs.join(',') + ']' : dataIDs;\n    ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? ids : intern(ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + (fragmentVariables == null || isEmptyObject(fragmentVariables) ? '{}' : JSON.stringify(stableCopy(fragmentVariables))) + '/' + ids;\n  } else {\n    var _JSON$stringify;\n\n    var _ids = (_JSON$stringify = JSON.stringify(dataIDs)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'missing';\n\n    _ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? _ids : intern(_ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + JSON.stringify(stableCopy(fragmentVariables)) + '/' + _ids;\n  }\n}\n\nmodule.exports = getFragmentIdentifier;","map":{"version":3,"names":["_require","require","getDataIDsFromFragment","getSelector","getVariablesFromFragment","isEmptyObject","RelayFeatureFlags","stableCopy","_require2","intern","getFragmentIdentifier","fragmentNode","fragmentRef","selector","fragmentOwnerIdentifier","kind","owner","identifier","selectors","map","sel","join","fragmentVariables","dataIDs","ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION","ids","Array","isArray","STRING_INTERN_LEVEL","MAX_DATA_ID_LENGTH","name","JSON","stringify","_JSON$stringify","_ids","module","exports"],"sources":["/Users/anubhavgupta/Documents/react_learning/experiment_schema_ratings/rating-frontent-with-gql/module-rating-rough/experiment-fnd/node_modules/relay-runtime/lib/util/getFragmentIdentifier.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('../store/RelayModernSelector'),\n    getDataIDsFromFragment = _require.getDataIDsFromFragment,\n    getSelector = _require.getSelector,\n    getVariablesFromFragment = _require.getVariablesFromFragment;\n\nvar isEmptyObject = require('./isEmptyObject');\n\nvar RelayFeatureFlags = require('./RelayFeatureFlags');\n\nvar stableCopy = require('./stableCopy');\n\nvar _require2 = require('./StringInterner'),\n    intern = _require2.intern;\n\nfunction getFragmentIdentifier(fragmentNode, fragmentRef) {\n  var selector = getSelector(fragmentNode, fragmentRef);\n  var fragmentOwnerIdentifier = selector == null ? 'null' : selector.kind === 'SingularReaderSelector' ? selector.owner.identifier : '[' + selector.selectors.map(function (sel) {\n    return sel.owner.identifier;\n  }).join(',') + ']';\n  var fragmentVariables = getVariablesFromFragment(fragmentNode, fragmentRef);\n  var dataIDs = getDataIDsFromFragment(fragmentNode, fragmentRef);\n\n  if (RelayFeatureFlags.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION) {\n    var ids = typeof dataIDs === 'undefined' ? 'missing' : dataIDs == null ? 'null' : Array.isArray(dataIDs) ? '[' + dataIDs.join(',') + ']' : dataIDs;\n    ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? ids : intern(ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + (fragmentVariables == null || isEmptyObject(fragmentVariables) ? '{}' : JSON.stringify(stableCopy(fragmentVariables))) + '/' + ids;\n  } else {\n    var _JSON$stringify;\n\n    var _ids = (_JSON$stringify = JSON.stringify(dataIDs)) !== null && _JSON$stringify !== void 0 ? _JSON$stringify : 'missing';\n\n    _ids = RelayFeatureFlags.STRING_INTERN_LEVEL <= 1 ? _ids : intern(_ids, RelayFeatureFlags.MAX_DATA_ID_LENGTH);\n    return fragmentOwnerIdentifier + '/' + fragmentNode.name + '/' + JSON.stringify(stableCopy(fragmentVariables)) + '/' + _ids;\n  }\n}\n\nmodule.exports = getFragmentIdentifier;"],"mappings":"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"},"metadata":{},"sourceType":"script"}