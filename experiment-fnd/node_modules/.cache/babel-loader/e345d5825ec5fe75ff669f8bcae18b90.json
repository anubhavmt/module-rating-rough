{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar withProvidedVariables = require('../util/withProvidedVariables');\n\nvar _require = require('./ConvertToExecuteFunction'),\n    convertFetch = _require.convertFetch;\n\nvar invariant = require('invariant');\n/**\n * Creates an implementation of the `Network` interface defined in\n * `RelayNetworkTypes` given `fetch` and `subscribe` functions.\n */\n\n\nfunction create(fetchFn, subscribe) {\n  // Convert to functions that returns RelayObservable.\n  var observeFetch = convertFetch(fetchFn);\n\n  function execute(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    var operationVariables = withProvidedVariables(variables, request.providedVariables);\n\n    if (request.operationKind === 'subscription') {\n      !subscribe ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: This network layer does not support Subscriptions. ' + 'To use Subscriptions, provide a custom network layer.') : invariant(false) : void 0;\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while subscribing.') : invariant(false) : void 0;\n      return subscribe(request, operationVariables, cacheConfig);\n    }\n\n    var pollInterval = cacheConfig.poll;\n\n    if (pollInterval != null) {\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while polling.') : invariant(false) : void 0;\n      return observeFetch(request, operationVariables, {\n        force: true\n      }).poll(pollInterval);\n    }\n\n    return observeFetch(request, operationVariables, cacheConfig, uploadables, logRequestInfo);\n  }\n\n  return {\n    execute: execute\n  };\n}\n\nmodule.exports = {\n  create: create\n};","map":{"version":3,"names":["withProvidedVariables","require","_require","convertFetch","invariant","create","fetchFn","subscribe","observeFetch","execute","request","variables","cacheConfig","uploadables","logRequestInfo","operationVariables","providedVariables","operationKind","process","env","NODE_ENV","pollInterval","poll","force","module","exports"],"sources":["/Users/anubhavgupta/Documents/react_learning/experiment_schema_ratings/rating-frontent-with-gql/module-rating-rough/experiment-fnd/node_modules/relay-runtime/lib/network/RelayNetwork.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar withProvidedVariables = require('../util/withProvidedVariables');\n\nvar _require = require('./ConvertToExecuteFunction'),\n    convertFetch = _require.convertFetch;\n\nvar invariant = require('invariant');\n/**\n * Creates an implementation of the `Network` interface defined in\n * `RelayNetworkTypes` given `fetch` and `subscribe` functions.\n */\n\n\nfunction create(fetchFn, subscribe) {\n  // Convert to functions that returns RelayObservable.\n  var observeFetch = convertFetch(fetchFn);\n\n  function execute(request, variables, cacheConfig, uploadables, logRequestInfo) {\n    var operationVariables = withProvidedVariables(variables, request.providedVariables);\n\n    if (request.operationKind === 'subscription') {\n      !subscribe ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: This network layer does not support Subscriptions. ' + 'To use Subscriptions, provide a custom network layer.') : invariant(false) : void 0;\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while subscribing.') : invariant(false) : void 0;\n      return subscribe(request, operationVariables, cacheConfig);\n    }\n\n    var pollInterval = cacheConfig.poll;\n\n    if (pollInterval != null) {\n      !!uploadables ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayNetwork: Cannot provide uploadables while polling.') : invariant(false) : void 0;\n      return observeFetch(request, operationVariables, {\n        force: true\n      }).poll(pollInterval);\n    }\n\n    return observeFetch(request, operationVariables, cacheConfig, uploadables, logRequestInfo);\n  }\n\n  return {\n    execute: execute\n  };\n}\n\nmodule.exports = {\n  create: create\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,qBAAqB,GAAGC,OAAO,CAAC,+BAAD,CAAnC;;AAEA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,4BAAD,CAAtB;AAAA,IACIE,YAAY,GAAGD,QAAQ,CAACC,YAD5B;;AAGA,IAAIC,SAAS,GAAGH,OAAO,CAAC,WAAD,CAAvB;AACA;AACA;AACA;AACA;;;AAGA,SAASI,MAAT,CAAgBC,OAAhB,EAAyBC,SAAzB,EAAoC;EAClC;EACA,IAAIC,YAAY,GAAGL,YAAY,CAACG,OAAD,CAA/B;;EAEA,SAASG,OAAT,CAAiBC,OAAjB,EAA0BC,SAA1B,EAAqCC,WAArC,EAAkDC,WAAlD,EAA+DC,cAA/D,EAA+E;IAC7E,IAAIC,kBAAkB,GAAGf,qBAAqB,CAACW,SAAD,EAAYD,OAAO,CAACM,iBAApB,CAA9C;;IAEA,IAAIN,OAAO,CAACO,aAAR,KAA0B,cAA9B,EAA8C;MAC5C,CAACV,SAAD,GAAaW,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwChB,SAAS,CAAC,KAAD,EAAQ,sEAAsE,uDAA9E,CAAjD,GAA0LA,SAAS,CAAC,KAAD,CAAhN,GAA0N,KAAK,CAA/N;MACA,CAAC,CAACS,WAAF,GAAgBK,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwChB,SAAS,CAAC,KAAD,EAAQ,6DAAR,CAAjD,GAA0HA,SAAS,CAAC,KAAD,CAAnJ,GAA6J,KAAK,CAAlK;MACA,OAAOG,SAAS,CAACG,OAAD,EAAUK,kBAAV,EAA8BH,WAA9B,CAAhB;IACD;;IAED,IAAIS,YAAY,GAAGT,WAAW,CAACU,IAA/B;;IAEA,IAAID,YAAY,IAAI,IAApB,EAA0B;MACxB,CAAC,CAACR,WAAF,GAAgBK,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwChB,SAAS,CAAC,KAAD,EAAQ,yDAAR,CAAjD,GAAsHA,SAAS,CAAC,KAAD,CAA/I,GAAyJ,KAAK,CAA9J;MACA,OAAOI,YAAY,CAACE,OAAD,EAAUK,kBAAV,EAA8B;QAC/CQ,KAAK,EAAE;MADwC,CAA9B,CAAZ,CAEJD,IAFI,CAECD,YAFD,CAAP;IAGD;;IAED,OAAOb,YAAY,CAACE,OAAD,EAAUK,kBAAV,EAA8BH,WAA9B,EAA2CC,WAA3C,EAAwDC,cAAxD,CAAnB;EACD;;EAED,OAAO;IACLL,OAAO,EAAEA;EADJ,CAAP;AAGD;;AAEDe,MAAM,CAACC,OAAP,GAAiB;EACfpB,MAAM,EAAEA;AADO,CAAjB"},"metadata":{},"sourceType":"script"}