{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @emails oncall+relay\n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar invariant = require('invariant');\n\nvar TEMPORARY_RETAIN_DURATION_MS = 5 * 60 * 1000;\n/**\n * Allows you to retain a resource as part of a component lifecycle accounting\n * for Suspense. You temporarily retain the resource during render, then\n * permanently retain it during commit and release it during unmount.\n */\n\nvar SuspenseResource = /*#__PURE__*/function () {\n  function SuspenseResource(retain) {\n    var _this = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_retainCount\", 0);\n    (0, _defineProperty2[\"default\"])(this, \"_retainDisposable\", null);\n    (0, _defineProperty2[\"default\"])(this, \"_releaseTemporaryRetain\", null);\n\n    this._retain = function (environment) {\n      _this._retainCount++;\n\n      if (_this._retainCount === 1) {\n        _this._retainDisposable = retain(environment);\n      }\n\n      return {\n        dispose: function dispose() {\n          _this._retainCount = Math.max(0, _this._retainCount - 1);\n\n          if (_this._retainCount === 0) {\n            !(_this._retainDisposable != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected disposable to release query to be defined.' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n\n            _this._retainDisposable.dispose();\n\n            _this._retainDisposable = null;\n          }\n        }\n      };\n    };\n  }\n\n  var _proto = SuspenseResource.prototype;\n\n  _proto.temporaryRetain = function temporaryRetain(environment) {\n    var _this2 = this;\n\n    var _this$_releaseTempora; // If we're executing in a server environment, there's no need\n    // to create temporary retains, since the component will never commit.\n\n\n    if (environment.isServer()) {\n      return {\n        dispose: function dispose() {}\n      };\n    } // temporaryRetain is called during the render phase. However,\n    // given that we can't tell if this render will eventually commit or not,\n    // we create a timer to autodispose of this retain in case the associated\n    // component never commits.\n    // If the component /does/ commit, permanentRetain will clear this timeout\n    // and permanently retain the data.\n\n\n    var retention = this._retain(environment);\n\n    var releaseQueryTimeout = null;\n\n    var releaseTemporaryRetain = function releaseTemporaryRetain() {\n      clearTimeout(releaseQueryTimeout);\n      releaseQueryTimeout = null;\n      _this2._releaseTemporaryRetain = null;\n      retention.dispose();\n    };\n\n    releaseQueryTimeout = setTimeout(releaseTemporaryRetain, TEMPORARY_RETAIN_DURATION_MS); // NOTE: Since temporaryRetain can be called multiple times, we release\n    // the previous temporary retain after we re-establish a new one, since\n    // we only ever need a single temporary retain until the permanent retain is\n    // established.\n    // temporaryRetain may be called multiple times by React during the render\n    // phase, as well as multiple times by other query components that are\n    // rendering the same query/variables.\n\n    (_this$_releaseTempora = this._releaseTemporaryRetain) === null || _this$_releaseTempora === void 0 ? void 0 : _this$_releaseTempora.call(this);\n    this._releaseTemporaryRetain = releaseTemporaryRetain;\n    return {\n      dispose: function dispose() {\n        var _this$_releaseTempora2;\n\n        (_this$_releaseTempora2 = _this2._releaseTemporaryRetain) === null || _this$_releaseTempora2 === void 0 ? void 0 : _this$_releaseTempora2.call(_this2);\n      }\n    };\n  };\n\n  _proto.permanentRetain = function permanentRetain(environment) {\n    var disposable = this._retain(environment);\n\n    this.releaseTemporaryRetain();\n    return disposable;\n  };\n\n  _proto.releaseTemporaryRetain = function releaseTemporaryRetain() {\n    var _this$_releaseTempora3;\n\n    (_this$_releaseTempora3 = this._releaseTemporaryRetain) === null || _this$_releaseTempora3 === void 0 ? void 0 : _this$_releaseTempora3.call(this);\n    this._releaseTemporaryRetain = null;\n  };\n\n  _proto.getRetainCount = function getRetainCount() {\n    return this._retainCount;\n  };\n\n  return SuspenseResource;\n}();\n\nmodule.exports = SuspenseResource;","map":{"version":3,"names":["_interopRequireDefault","require","_defineProperty2","invariant","TEMPORARY_RETAIN_DURATION_MS","SuspenseResource","retain","_this","_retain","environment","_retainCount","_retainDisposable","dispose","Math","max","process","env","NODE_ENV","_proto","prototype","temporaryRetain","_this2","_this$_releaseTempora","isServer","retention","releaseQueryTimeout","releaseTemporaryRetain","clearTimeout","_releaseTemporaryRetain","setTimeout","call","_this$_releaseTempora2","permanentRetain","disposable","_this$_releaseTempora3","getRetainCount","module","exports"],"sources":["/Users/anubhavgupta/Documents/react_learning/experiment_schema_ratings/rating-frontent-with-gql/module-rating-rough/experiment-fnd/node_modules/react-relay/lib/relay-hooks/SuspenseResource.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @emails oncall+relay\n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar invariant = require('invariant');\n\nvar TEMPORARY_RETAIN_DURATION_MS = 5 * 60 * 1000;\n/**\n * Allows you to retain a resource as part of a component lifecycle accounting\n * for Suspense. You temporarily retain the resource during render, then\n * permanently retain it during commit and release it during unmount.\n */\n\nvar SuspenseResource = /*#__PURE__*/function () {\n  function SuspenseResource(retain) {\n    var _this = this;\n\n    (0, _defineProperty2[\"default\"])(this, \"_retainCount\", 0);\n    (0, _defineProperty2[\"default\"])(this, \"_retainDisposable\", null);\n    (0, _defineProperty2[\"default\"])(this, \"_releaseTemporaryRetain\", null);\n\n    this._retain = function (environment) {\n      _this._retainCount++;\n\n      if (_this._retainCount === 1) {\n        _this._retainDisposable = retain(environment);\n      }\n\n      return {\n        dispose: function dispose() {\n          _this._retainCount = Math.max(0, _this._retainCount - 1);\n\n          if (_this._retainCount === 0) {\n            !(_this._retainDisposable != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Relay: Expected disposable to release query to be defined.' + \"If you're seeing this, this is likely a bug in Relay.\") : invariant(false) : void 0;\n\n            _this._retainDisposable.dispose();\n\n            _this._retainDisposable = null;\n          }\n        }\n      };\n    };\n  }\n\n  var _proto = SuspenseResource.prototype;\n\n  _proto.temporaryRetain = function temporaryRetain(environment) {\n    var _this2 = this;\n\n    var _this$_releaseTempora;\n\n    // If we're executing in a server environment, there's no need\n    // to create temporary retains, since the component will never commit.\n    if (environment.isServer()) {\n      return {\n        dispose: function dispose() {}\n      };\n    } // temporaryRetain is called during the render phase. However,\n    // given that we can't tell if this render will eventually commit or not,\n    // we create a timer to autodispose of this retain in case the associated\n    // component never commits.\n    // If the component /does/ commit, permanentRetain will clear this timeout\n    // and permanently retain the data.\n\n\n    var retention = this._retain(environment);\n\n    var releaseQueryTimeout = null;\n\n    var releaseTemporaryRetain = function releaseTemporaryRetain() {\n      clearTimeout(releaseQueryTimeout);\n      releaseQueryTimeout = null;\n      _this2._releaseTemporaryRetain = null;\n      retention.dispose();\n    };\n\n    releaseQueryTimeout = setTimeout(releaseTemporaryRetain, TEMPORARY_RETAIN_DURATION_MS); // NOTE: Since temporaryRetain can be called multiple times, we release\n    // the previous temporary retain after we re-establish a new one, since\n    // we only ever need a single temporary retain until the permanent retain is\n    // established.\n    // temporaryRetain may be called multiple times by React during the render\n    // phase, as well as multiple times by other query components that are\n    // rendering the same query/variables.\n\n    (_this$_releaseTempora = this._releaseTemporaryRetain) === null || _this$_releaseTempora === void 0 ? void 0 : _this$_releaseTempora.call(this);\n    this._releaseTemporaryRetain = releaseTemporaryRetain;\n    return {\n      dispose: function dispose() {\n        var _this$_releaseTempora2;\n\n        (_this$_releaseTempora2 = _this2._releaseTemporaryRetain) === null || _this$_releaseTempora2 === void 0 ? void 0 : _this$_releaseTempora2.call(_this2);\n      }\n    };\n  };\n\n  _proto.permanentRetain = function permanentRetain(environment) {\n    var disposable = this._retain(environment);\n\n    this.releaseTemporaryRetain();\n    return disposable;\n  };\n\n  _proto.releaseTemporaryRetain = function releaseTemporaryRetain() {\n    var _this$_releaseTempora3;\n\n    (_this$_releaseTempora3 = this._releaseTemporaryRetain) === null || _this$_releaseTempora3 === void 0 ? void 0 : _this$_releaseTempora3.call(this);\n    this._releaseTemporaryRetain = null;\n  };\n\n  _proto.getRetainCount = function getRetainCount() {\n    return this._retainCount;\n  };\n\n  return SuspenseResource;\n}();\n\nmodule.exports = SuspenseResource;"],"mappings":"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"},"metadata":{},"sourceType":"script"}